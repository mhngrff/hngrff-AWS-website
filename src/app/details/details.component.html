<!--<div *ngIf="imageMetadata$ | async as metadata">-->
<!--  <div class="details-container">-->
<!--    &lt;!&ndash; Metadata and Arrow Container &ndash;&gt;-->
<!--    <div class="details-content">-->
<!--      <h2>{{ metadata.title }}</h2>-->
<!--      <p>{{ metadata.description }}</p>-->
<!--      <div class="price">-->
<!--        <p>Price: {{ metadata.price | currency: metadata.currency }}</p>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Arrow Navigation &ndash;&gt;-->
<!--    <div class="arrow-navigation">-->
<!--      <div class="left-arrow" [ngClass]="{'disabled-arrow': isAtFirstImage}" (click)="!isAtFirstImage && navigateLeft()">-->
<!--        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--          <path d="M15 7L10 12L15 17" stroke-linecap="round" stroke-linejoin="round" />-->
<!--        </svg>-->
<!--      </div>-->

<!--      <div class="progress-indicator">{{ currentIndex + 1 }} / {{ totalImages }}</div>-->

<!--      <div class="right-arrow" [ngClass]="{'disabled-arrow': isAtLastImage}" (click)="!isAtLastImage && navigateRight()">-->
<!--        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">-->
<!--          <path d="M10 7L15 12L10 17" stroke-linecap="round" stroke-linejoin="round" />-->
<!--        </svg>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->

<!--  &lt;!&ndash; Viewport for Images &ndash;&gt;-->
<!--  <div class="viewport">-->
<!--    &lt;!&ndash; SCROLLABLE CONTAINER &ndash;&gt;-->
<!--    <div #scrollableContainer class="scrollable-container" (scroll)="onScroll()">-->
<!--      &lt;!&ndash; MAIN IMAGE &ndash;&gt;-->
<!--      <div class="image-slide" *ngIf="image$ | async as image">-->
<!--        &lt;!&ndash; Expand Icon &ndash;&gt;-->
<!--        <div class="expand-icon" [ngClass]="{'visible': isDefaultView && image.zoomImage}" (click)="openZoomView()">-->
<!--          <svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" width="50px" height="50px">-->
<!--            <path fill="none" stroke="white" stroke-width="1.5" d="M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9" />-->
<!--          </svg>-->
<!--        </div>-->

<!--        <img [src]="image.mainImage"-->
<!--             [alt]="image.title"-->
<!--             class="details-image"-->
<!--             (load)="onImageLoad($event)">-->
<!--      </div>-->

<!--      &lt;!&ndash; ALTERNATE VIEWS &ndash;&gt;-->
<!--      <div class="image-slide" *ngFor="let img of (image$ | async)?.alternateViews">-->
<!--        <img [src]="img.url" [alt]="metadata.title + ' alternate view'" class="details-image" (load)="onImageLoad($event)">-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->

<!--  &lt;!&ndash; Zoom View Overlay &ndash;&gt;-->
<!--  <div #zoomOverlay class="zoom-overlay" *ngIf="isZoomView">-->
<!--    <div class="exit-icon" (click)="closeZoomView()">-->
<!--      <svg fill="white" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" width="50px" height="50px">-->
<!--        <path d="M876.612 1043.388v710.171H761.27v-513.28L81.663 1920 0 1838.337l679.72-679.606H166.442v-115.343h710.171ZM1838.394 0l81.548 81.548-679.605 679.72h513.28v115.344h-710.172V166.441h115.344v513.164L1838.394 0Z" fill-rule="evenodd" />-->
<!--      </svg>-->
<!--    </div>-->
<!--    <div class="zoom-content">-->
<!--      <img *ngIf="image$ | async as image"-->
<!--           [src]="image.zoomImage"-->
<!--           [alt]="image.title + ' zoomed-in view'"-->
<!--           class="zoomed-image">-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<!--&lt;!&ndash; Placeholder when image is loading &ndash;&gt;-->
<!--<ng-template #imagePlaceholder>-->
<!--  <div class="image-placeholder"></div>-->
<!--</ng-template>-->
<body>
<div *ngIf="imageMetadata$ | async as metadata">

    <!-- Viewport for Images: Place it above the metadata -->
    <div class="viewport">
      <div #scrollableContainer class="scrollable-container" (scroll)="onScroll()">
        <!-- MAIN IMAGE -->
        <div class="image-slide" *ngIf="image$ | async as image; else imagePlaceholder">
          <!-- Expand Icon -->
          <div class="expand-icon" [ngClass]="{'visible': isDefaultView && image.zoomImage}" (click)="openZoomView()">
            <svg viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg" width="50px" height="50px">
              <path fill="none" stroke="white" stroke-width="1.5" d="M10,14 L2,22 M1,15 L1,23 L9,23 M22,2 L14,10 M15,1 L23,1 L23,9" />
            </svg>
          </div>
          <img [src]="image.mainImage"
               [alt]="image.title"
               class="details-image"
               (load)="onImageLoad($event)">
        </div>

        <ng-template #imagePlaceholder>
          <div class="image-placeholder"></div>
        </ng-template>

        <!-- ALTERNATE VIEWS -->
        <div class="image-slide" *ngFor="let img of (image$ | async)?.alternateViews">
          <img [src]="img.url" [alt]="metadata.title + ' alternate view'" class="details-image" (load)="onImageLoad($event)">
        </div>
      </div>
    </div>
  <div class="details-container">

    <!-- Arrow Navigation: Should be below viewport -->
    <div class="arrow-navigation">
      <div class="left-arrow" [ngClass]="{'disabled-arrow': isAtFirstImage}" (click)="!isAtFirstImage && navigateLeft()">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M15 7L10 12L15 17" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>

      <div class="progress-indicator">{{ currentIndex + 1 }} / {{ totalImages }}</div>

      <div class="right-arrow" [ngClass]="{'disabled-arrow': isAtLastImage}" (click)="!isAtLastImage && navigateRight()">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 7L15 12L10 17" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
    </div>

    <!-- Metadata: Title, Description, Price -->
    <div class="details-content">
      <h2>{{ metadata.subtitles ? metadata.subtitles[currentIndex] : metadata.title }}</h2>
      <p>{{ metadata.description }}</p>
      <div class="price">
        <p>Price: {{ metadata.price | currency: metadata.currency }}</p>
      </div>

      <a (click)="addToCart()">
        <button class="add-to-cart-button">Add to cart</button>
      </a>

      <a (click)="goToPayment()">
        <button class="buy-now-button">Buy Now</button>
      </a>
    </div>

  </div>
</div>

<!-- Zoom View Overlay -->
<div #zoomOverlay class="zoom-overlay" *ngIf="isZoomView">
  <div class="exit-icon" (click)="closeZoomView()">
    <svg fill="white" viewBox="0 0 1920 1920" xmlns="http://www.w3.org/2000/svg" width="50px" height="50px">
      <path d="M876.612 1043.388v710.171H761.27v-513.28L81.663 1920 0 1838.337l679.72-679.606H166.442v-115.343h710.171ZM1838.394 0l81.548 81.548-679.605 679.72h513.28v115.344h-710.172V166.441h115.344v513.164L1838.394 0Z" fill-rule="evenodd" />
    </svg>
  </div>
  <div class="zoom-content">
    <img *ngIf="image$ | async as image"
         [src]="image.zoomImage"
         [alt]="image.title + ' zoomed-in view'"
         class="zoomed-image">
  </div>
</div>

<footer>
  <div class="footer-content">
    <div class="footer-icons">
      <div class="email-icon">
        <a href="mailto:matt.hanagriff@gmail.com" aria-label="Send Email">
          <svg class="email-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 7L10.94 11.3375C11.5885 11.7428 12.4115 11.7428 13.06 11.3375L20 7M5 18H19C20.1046 18 21 17.1046 21 16V8C21 6.89543 20.1046 6 19 6H5C3.89543 6 3 6.89543 3 8V16C3 17.1046 3.89543 18 5 18Z" stroke="currentColor" stroke-width="1.1" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </div>
      <div class="instagram-icon">
        <a href="https://www.instagram.com/hngrff" target="_blank" aria-label="Instagram">
          <svg class="instagram-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="256" height="256" viewBox="0 0 256 256" xml:space="preserve">
            <defs></defs>
            <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(48 48) scale(1.820 1.820)">
	            <path d="M 89.736 26.446 c -0.217 -4.79 -0.981 -8.063 -2.09 -10.925 c -1.129 -3.002 -2.901 -5.724 -5.189 -7.97 c -2.246 -2.288 -4.968 -4.061 -7.97 -5.193 c -2.862 -1.109 -6.132 -1.869 -10.925 -2.09 c -4.797 -0.217 -6.333 -0.271 -18.554 -0.271 S 31.251 0.05 26.454 0.268 c -4.797 0.221 -8.067 0.981 -10.929 2.094 C 12.519 3.49 9.8 5.263 7.551 7.551 C 5.263 9.8 3.49 12.519 2.362 15.525 c -1.109 2.862 -1.869 6.135 -2.09 10.925 C 0.05 31.251 0 32.783 0 45.004 C 0 57.228 0.05 58.76 0.271 63.558 c 0.217 4.79 0.977 8.063 2.09 10.925 c 1.129 3.002 2.901 5.724 5.189 7.97 c 2.246 2.288 4.968 4.061 7.97 5.189 c 2.862 1.113 6.132 1.873 10.925 2.09 c 4.797 0.217 6.333 0.271 18.554 0.271 s 13.756 -0.05 18.554 -0.271 c 4.79 -0.217 8.063 -0.977 10.925 -2.09 c 6.046 -2.339 10.824 -7.117 13.159 -13.159 c 1.113 -2.862 1.873 -6.135 2.09 -10.925 C 89.946 58.756 90 57.224 90 45.004 S 89.953 31.248 89.736 26.446 z M 81.634 63.189 c -0.202 4.39 -0.935 6.772 -1.547 8.358 c -1.513 3.925 -4.615 7.027 -8.54 8.54 c -1.586 0.617 -3.968 1.35 -8.358 1.547 c -4.743 0.217 -6.167 0.264 -18.185 0.264 s -13.442 -0.047 -18.185 -0.264 c -4.386 -0.202 -6.772 -0.935 -8.358 -1.547 c -1.955 -0.721 -3.723 -1.873 -5.174 -3.366 c -1.497 -1.45 -2.645 -3.219 -3.366 -5.174 c -0.617 -1.586 -1.35 -3.968 -1.547 -8.358 C 8.156 58.442 8.11 57.023 8.11 45.004 s 0.043 -13.442 0.26 -18.185 c 0.202 -4.39 0.935 -6.772 1.551 -8.358 c 0.721 -1.955 1.873 -3.723 3.366 -5.174 c 1.45 -1.497 3.219 -2.645 5.174 -3.366 c 1.586 -0.617 3.968 -1.35 8.358 -1.551 c 4.743 -0.213 6.167 -0.26 18.185 -0.26 l 0 0 c 12.015 0 13.438 0.047 18.185 0.264 c 4.39 0.202 6.772 0.935 8.358 1.547 c 1.955 0.721 3.723 1.873 5.174 3.366 c 1.497 1.45 2.645 3.219 3.366 5.174 c 0.617 1.586 1.35 3.968 1.551 8.358 c 0.217 4.747 0.264 6.167 0.264 18.185 S 81.852 58.442 81.634 63.189 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(135,135,135); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
              <path d="M 45 21.893 c -12.764 0 -23.111 10.347 -23.111 23.111 S 32.236 68.115 45 68.115 s 23.111 -10.347 23.111 -23.111 S 57.764 21.893 45 21.893 z M 45 60.005 c -8.284 0 -15.001 -6.717 -15.001 -15.001 S 36.716 30.003 45 30.003 s 15.001 6.717 15.001 15.001 S 53.288 60.005 45 60.005 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(135,135,135); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
              <path d="M 74.425 20.978 c 0 2.982 -2.42 5.399 -5.399 5.399 c -2.982 0 -5.399 -2.42 -5.399 -5.399 c 0 -2.982 2.42 -5.399 5.399 -5.399 S 74.425 17.999 74.425 20.978 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(135,135,135); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round" />
            </g>
          </svg>
        </a>
      </div>
    </div>

    <div class="copyright">
      <p>&copy; 2024 hngrff</p>
    </div>
  </div>
</footer>
</body>

